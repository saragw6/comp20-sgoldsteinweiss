<!DOCTYPE html>

<html>

<head>
  <title>Captain's Log</title>
  <meta charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script>
		$("document").ready(function() {
			//loading old messages
			output = "";
			for (key in localStorage) {
				output = localStorage[key] + output;
			}//end of for
			elem = document.getElementById("log");
			elem.innerHTML = output;

			$("input").change(function() {
				var myDate = new Date();
				var timestamp = myDate.toString();

				var entry = timestamp + " - " + $("input").val() + "<br>";
				$("#log").prepend(entry);
				localStorage.setItem(timestamp, entry);//store it in local storage
			});//end of input change function
		});//end of document ready
  </script>
</head>

<body>
  <h1>Captain's Log</h1>
  <h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
  <div id="log"></div>
</body>
</html>
